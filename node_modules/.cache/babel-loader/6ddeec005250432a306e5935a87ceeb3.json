{"ast":null,"code":"var _jsxFileName = \"/home/josho/Dero/OAO/oao/src/App.js\",\n    _s = $RefreshSig$();\n\nimport logo from './logo.svg';\nimport './App.css';\nimport DeroBridgeApi from './api.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport to from 'await-to-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const deroBridgeApiRef = React.useRef();\n  const [bridgeInitText, setBridgeInitText] = React.useState('');\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi();\n      const deroBridgeApi = deroBridgeApiRef.current;\n      const [err] = await to(deroBridgeApi.init());\n\n      if (err) {\n        setBridgeInitText('failed to connect to extension');\n      } else {\n        setBridgeInitText('connected to extension');\n      }\n    };\n\n    window.addEventListener('load', load);\n    return () => window.removeEventListener('load', load);\n  }, []);\n  const transfer = React.useCallback(async () => {\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n      \"scid\": \"8e700fc34ef6663eb110353b94e4c468e3212bc506442f90b25d09ee311f65ba\",\n      \"ringsize\": 2,\n      \"amount\": 200000,\n      \"sc_rpc\": [{\n        \"name\": \"entrypoint\",\n        \"datatype\": \"S\",\n        \"value\": \"Deposit\"\n      }]\n    }));\n    console.log(err);\n    console.log(res);\n  }, []);\n  const getBalance = React.useCallback(async () => {\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.wallet('get-balance'));\n    if (err) alert(err.message);else alert(JSON.stringify(res));\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: bridgeInitText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: transfer,\n      children: \"Send transfer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getBalance,\n      children: \"Get balance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 10\n  }, this);\n};\n\n_s(App, \"93N4L5kbbus+evUf/AbMwZwlpc0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["logo","DeroBridgeApi","React","ReactDOM","to","App","deroBridgeApiRef","useRef","bridgeInitText","setBridgeInitText","useState","useEffect","load","current","deroBridgeApi","err","init","window","addEventListener","removeEventListener","transfer","useCallback","res","wallet","console","log","getBalance","alert","message","JSON","stringify"],"sources":["/home/josho/Dero/OAO/oao/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\n\nimport DeroBridgeApi from './api.js'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport to from 'await-to-js'\n\nconst App = () => {\n  const deroBridgeApiRef = React.useRef()\n  const [bridgeInitText, setBridgeInitText] = React.useState('')\n\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi()\n      const deroBridgeApi = deroBridgeApiRef.current\n      const [err] = await to(deroBridgeApi.init())\n      if (err) {\n        setBridgeInitText('failed to connect to extension')\n      } else {\n        setBridgeInitText('connected to extension')\n      }\n    }\n\n    window.addEventListener('load', load)\n    return () => window.removeEventListener('load', load)\n  }, [])\n\n  const transfer = React.useCallback(async () => {\n    const deroBridgeApi = deroBridgeApiRef.current\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n    \t\"scid\": \"8e700fc34ef6663eb110353b94e4c468e3212bc506442f90b25d09ee311f65ba\",\n    \t\"ringsize\": 2,\n        \"amount\": 200000,\n    \t\"sc_rpc\": [{\n    \t\t\"name\": \"entrypoint\",\n    \t\t\"datatype\": \"S\",\n    \t\t\"value\": \"Deposit\"\n    \t}]\n    }))\n\n    console.log(err)\n    console.log(res)\n  }, [])\n\n  const getBalance = React.useCallback(async () => {\n    const deroBridgeApi = deroBridgeApiRef.current\n    const [err, res] = await to(deroBridgeApi.wallet('get-balance'))\n    if (err) alert(err.message)\n    else alert(JSON.stringify(res))\n  })\n\n  return <div>\n    <div>{bridgeInitText}</div>\n    <button onClick={transfer}>Send transfer</button>\n    <button onClick={getBalance}>Get balance</button>\n  </div>\n}\n\n\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,OAAO,WAAP;AAEA,OAAOC,aAAP,MAA0B,UAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,EAAP,MAAe,aAAf;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAMC,gBAAgB,GAAGJ,KAAK,CAACK,MAAN,EAAzB;EACA,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAA5C;EAEAR,KAAK,CAACS,SAAN,CAAgB,MAAM;IACpB,MAAMC,IAAI,GAAG,YAAY;MACvBN,gBAAgB,CAACO,OAAjB,GAA2B,IAAIZ,aAAJ,EAA3B;MACA,MAAMa,aAAa,GAAGR,gBAAgB,CAACO,OAAvC;MACA,MAAM,CAACE,GAAD,IAAQ,MAAMX,EAAE,CAACU,aAAa,CAACE,IAAd,EAAD,CAAtB;;MACA,IAAID,GAAJ,EAAS;QACPN,iBAAiB,CAAC,gCAAD,CAAjB;MACD,CAFD,MAEO;QACLA,iBAAiB,CAAC,wBAAD,CAAjB;MACD;IACF,CATD;;IAWAQ,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgCN,IAAhC;IACA,OAAO,MAAMK,MAAM,CAACE,mBAAP,CAA2B,MAA3B,EAAmCP,IAAnC,CAAb;EACD,CAdD,EAcG,EAdH;EAgBA,MAAMQ,QAAQ,GAAGlB,KAAK,CAACmB,WAAN,CAAkB,YAAY;IAC7C,MAAMP,aAAa,GAAGR,gBAAgB,CAACO,OAAvC;IACA,MAAM,CAACE,GAAD,EAAMO,GAAN,IAAa,MAAMlB,EAAE,CAACU,aAAa,CAACS,MAAd,CAAqB,gBAArB,EAAuC;MAClE,QAAQ,kEAD0D;MAElE,YAAY,CAFsD;MAG/D,UAAU,MAHqD;MAIlE,UAAU,CAAC;QACV,QAAQ,YADE;QAEV,YAAY,GAFF;QAGV,SAAS;MAHC,CAAD;IAJwD,CAAvC,CAAD,CAA3B;IAWAC,OAAO,CAACC,GAAR,CAAYV,GAAZ;IACAS,OAAO,CAACC,GAAR,CAAYH,GAAZ;EACD,CAfgB,EAed,EAfc,CAAjB;EAiBA,MAAMI,UAAU,GAAGxB,KAAK,CAACmB,WAAN,CAAkB,YAAY;IAC/C,MAAMP,aAAa,GAAGR,gBAAgB,CAACO,OAAvC;IACA,MAAM,CAACE,GAAD,EAAMO,GAAN,IAAa,MAAMlB,EAAE,CAACU,aAAa,CAACS,MAAd,CAAqB,aAArB,CAAD,CAA3B;IACA,IAAIR,GAAJ,EAASY,KAAK,CAACZ,GAAG,CAACa,OAAL,CAAL,CAAT,KACKD,KAAK,CAACE,IAAI,CAACC,SAAL,CAAeR,GAAf,CAAD,CAAL;EACN,CALkB,CAAnB;EAOA,oBAAO;IAAA,wBACL;MAAA,UAAMd;IAAN;MAAA;MAAA;MAAA;IAAA,QADK,eAEL;MAAQ,OAAO,EAAEY,QAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFK,eAGL;MAAQ,OAAO,EAAEM,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHK;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AAKD,CAjDD;;GAAMrB,G;;KAAAA,G;AAqDN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}